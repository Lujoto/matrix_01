     1                                  ; input.asm
     2                                  
     3                                  section .data
     4 00000000 456E74657220796F75-         msg1        db     "Enter your name",0
     4 00000009 72206E616D6500     
     5                                      len1        equ    $-msg1-1
     6                                      aloc        equ      16
     7 00000010 0A                          NL          db      0xa ;ascii code for a new line
     8                                  
     9                                  section .bss
    10 00000000 <res 10h>                   name        resb    aloc
    11                                  
    12                                  section .text
    13                                      global main
    14                                  main:
    15 00000000 E859000000                  call print_prompt
    16 00000005 E870000000                  call print_newline
    17 0000000A E817000000                  call get_name
    18 0000000F E82E000000                  call print_name
    19 00000014 E800000000                  call ep
    20                                  
    21                                  ep:
    22 00000019 B83C000000                  mov rax, 60
    23 0000001E BF00000000                  mov rdi, 0
    24 00000023 0F05                        syscall
    25 00000025 C3                          ret
    26                                  
    27                                  get_name:
    28 00000026 B800000000                  mov rax, 0 ;input
    29 0000002B BF00000000                  mov rdi, 0 ;to std in
    30 00000030 48BE-                       mov rsi, name
    30 00000032 [0000000000000000] 
    31 0000003A BA10000000                  mov rdx, aloc
    32 0000003F 0F05                        syscall
    33 00000041 C3                          ret
    34                                  
    35                                  print_name:
    36 00000042 B801000000                  mov rax, 1
    37 00000047 BF01000000                  mov rdi, 1
    38 0000004C 48BE-                       mov rsi, name
    38 0000004E [0000000000000000] 
    39 00000056 BA10000000                  mov rdx, aloc
    40 0000005B 0F05                        syscall
    41 0000005D C3                          ret
    42                                  
    43                                  print_prompt:
    44 0000005E B801000000                  mov rax, 1
    45 00000063 BF01000000                  mov rdi, 1
    46 00000068 48BE-                       mov rsi, msg1
    46 0000006A [0000000000000000] 
    47 00000072 BA0F000000                  mov rdx, len1
    48 00000077 0F05                        syscall
    49 00000079 C3                          ret
    50                                  
    51                                  print_newline:
    52 0000007A B801000000                  mov rax, 1
    53 0000007F BF01000000                  mov rdi, 1
    54 00000084 48BE-                       mov rsi, NL
    54 00000086 [1000000000000000] 
    55 0000008E BA01000000                  mov rdx, 1
    56 00000093 0F05                        syscall
    57 00000095 C3                          ret
